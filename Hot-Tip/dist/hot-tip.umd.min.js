!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],e):e((t=t||self).HotTip={},t.React,t.PropTypes)}(this,function(t,e,n){"use strict";var o="default"in e?e.default:e;n=n&&n.hasOwnProperty("default")?n.default:n;var i=e.createContext({}),r=(i.Consumer,"HOT_TIP::UPDATE_TOOLTIP");function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var s=function(t,e){var n=t.left,o=t.top,i=t.width,r=t.height,a=t.clientWidth,s=t.clientHeight;if(!e&&o+r+40>=s)return l(t,!0);var u=n+i/2,c=u<100;return{x:u,y:o+r,positionClass:"bottom",layoutClass:c?"left-offset":!c&&u+100>a?"right-offset":"centred"}},l=function(t,e){var n=t.top,o=s(t,!0);return!e&&n-40<=0?o:a({},o,{y:n,positionClass:"top"})},u=function(t,e){var n=t.left,o=t.top,i=t.width,r=t.height,a=t.clientWidth,s=t.clientHeight;if(!e&&n+i+200>=a)return c(t,!0);var l=o+r/2,u=l<50;return{x:n+i,y:l,positionClass:"right",layoutClass:u?"top-offset":!u&&l+50>s?"bottom-offset":"mid"}},c=function(t,e){var n=t.left,o=u(t,e);return!e&&n-200<=0?o:a({},o,{x:n,positionClass:"left"})},f=function(t){switch(t){case"top":return l;case"right":return u;case"left":return c;case"bottom":default:return s}},p=function(t){var e=t.currentTarget.getBoundingClientRect(),n=e.top,o=e.left,i=e.width,r=e.height,a=window,s=a.pageXOffset,l=a.pageYOffset,u=document.body,c=u.scrollTop,f=u.clientTop,p=u.scrollLeft,d=u.clientLeft,h=u.clientWidth,v=u.clientHeight;return{top:n+Math.max(l,c)-f,left:o+Math.max(s,p)-d,width:i,height:r,clientWidth:h,clientHeight:v}},d={getBounds:p,getPosition:f};function h(t){var n=t.position,o=void 0===n?"bottom":n,a=t.tip,s=t.children,l=e.useContext(i)[1];function u(t){var e=p(t),n=f(o)(e);l(function(t,e){return{type:r,payload:{tip:t,visible:!0,position:e}}}(a,n))}e.useEffect(function(){return function(){l(v())}},[]);var c=function(){return l(v())};return a?"string"==typeof s?e.createElement("span",{onMouseOver:u,onMouseOut:c},s):e.cloneElement(s,{onMouseOver:u,onMouseOut:c}):s}function v(){return{type:r,payload:{visible:!1}}}function y(){var t=e.useContext(i)[0],n=t.tip,r=t.positionClass,a=t.layoutClass,s=t.visible,l=t.x,u=t.y,c=["hot-tip",r,a].join(" ");return Boolean(s)&&o.createElement("div",{className:c,style:{top:u,left:l}},o.createElement("div",{className:"ht-point"}),o.createElement("div",{className:"ht-body"},"function"!=typeof n?n:n()))}function m(t,e){void 0===t&&(t={});var n=e.type,o=e.payload;switch(n){case r:return a({},t,{tip:o.tip,visible:o.visible},o.position);default:return t}}h.defaultProps={position:"bottom",tip:""},y.displayName="HotTipAnchor",t.HotTip=h,t.HotTipProvider=function(t){var n=t.children,r=e.useReducer(m,{});return o.createElement(i.Provider,{value:r},o.createElement(o.Fragment,null,o.createElement(y,null),n))},t.default=h,t.positionUtils=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hot-tip.umd.min.js.map
